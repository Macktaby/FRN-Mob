<ion-view view-title="">
    <ion-content class="vendor">
        <div>
            <label class="item item-input">
                <input type="text" placeholder="Filter" ng-model="searchFilter">
            </label>
        </div>
        <div cg-busy="showroomsPromise">
            <ion-list can-swipe="true">
                <div ng-repeat="s in filteredData = (data.showrooms | filter:{post_title:searchFilter})">
                    <ion-item class="item item-icon-right" ng-click="toggleGroup(s)" ng-class="{active: isGroupShown(s)}">
                        <h2>{{s.post_title}}</h2>
                        <p>{{s.address}}</p>
                        <i class="icon" ng-class="isGroupShown(s) ? 'ion-minus' : 'ion-plus'"></i>
                    </ion-item>
                    <div class="item item-accordion" ng-show="isGroupShown(s)">
                        <div><b>Phone: </b>{{s.phone}}</div>
                        <div><b>Email: </b>{{s.email}}</div>
                        <button class="button button-full button-positive" ng-click="goToLocation(s);">Directions</button>
                        <button class="button button-full button-positive" ng-click="openShowroom(s);">Products</button>
                    </div>
                </div>
                <div class="item item-no-data" ng-show="data.showrooms.length > 0 && filteredData.length < 1">No data</div>
            </ion-list>
        </div>
    </ion-content>
</ion-view>
